+++
title = "角色管理"
weight = 2
description = "角色是一组特定权限的集合，通过给成员分配角色来赋予成员权限"
+++

# 角色管理

角色是一组特定权限的集合。因此，通过给成员分配角色来赋予成员权限。角色只有属于一个层级，给角色分配权限时只能分配相同层级的权限。在一个层级中给成员分配角色时，只能分配相同层级的角色。

![](/docs/user-guide/system-configuration/platform/image/role_permission2.png)

  - **菜单层次**：全局层
  - **菜单路径**：平台设置 > 角色管理
  - **默认角色**：平台管理员

<h2 id="1">角色列表</h2>

列表字段：

- 名称：角色名称是根据角色菜单分配的集合定义的。在角色分配中的角色列表里面显示的为角色名称。
- **编码**：角色编码具有唯一性，是角色的标识。
- 层级:一个角色只能选择一个层级。一共有全局层、组织层、项目层三种层级可供选择。
- 来源：角色分为预定义角色和用户自定义角色，所以角色来源有预定义和自定义两种。用户自定义角色是用户在角色管理界面所创建的角色，可修改角色名称、标签及菜单分配。预定义角色是系统内置的角色，只允许修改角色标签。所有角色均可启停用、基于角色创建新的角色。
- 状态：角色状态有'启用'和'停用'两种值。角色状态为'启用'时，在角色分配中可以看到该角色，且可以被分配；为'停用'时，在角色分配中不可看到该角色，因而无法被分配。

<h2 id="2">角色查询</h2>

可查询字段：

- 层级：分全局层、组织层、项目层三种。
- 名称：角色的名称。可以模糊搜索。
- **编码**：角色的编码。是角色标识。可以模糊搜索。
- 来源：分预定义和自定义两种。
- 状态：分启用和停用两种。

<h2 id="3">创建角色</h2>

1.选择对应层级，点击`创建角色`→![创建角色](/docs/user-guide/system-configuration/platform/image/create_role.png)创建一个该层级的角色；

2.输入`角色编码`、`角色名称`、`角色标签`、`菜单分配`；

必填字段：

- **角色编码**：角色编码具有唯一性，是角色的标识。用户可自定义。角色创建成功后生成的角色编码为`role/层级/custom/用户自定义角色编码`，其中`role`和`custom`为常量，`role`表示角色这个大类，`custom`表示角色来源为用户自定义，即用户在界面创建的角色；`层级`和`用户自定义编码`为变量，`层级`为当前所在层级，`用户自定义角色编码`为用户在角色编码输入框中所填写的值。
- 角色名称：角色的名称应该根据角色权限集合特征定义。

选填字段：

- 角色标签：用于定义角色的特定逻辑的功能，需与代码开发结合。
    - project.owner：项目所有者。用户创建项目时会自动为其分配拥有该角色标签的角色。
    - organization.owner：组织所有者。用户创建组织时会自动为其分配拥有该角色标签的角色。
    - organization.wiki.admin：组织层wiki管理员。
    - organization.wiki.user：组织层wiki用户。
    - project.wiki.admin：项目层wiki管理员。
    - project.wiki.user：项目层wiki用户。
    - organization.gitlab.owner：组织层gitlab所有者。
    - project.gitlab.developer：项目层gitlab开发者。当给某用户在某项目下分配拥有该标签的角色后，平台会为该用户在gitlab对应的group下分配developer的角色。
    - project.gitlab.owner：项目层gitlab所有者。当给某用户在某项目下分配拥有该标签的角色后，平台会为该用户在gitlab对应的group下分配owner角色。
    - project.deploy.admin：项目层部署管理员。当给某用户在某项目下分配拥有该标签的角色后，该用户可在该项目下使用部署流水线的相关内容。
    - site.admin：全局层管理员。
    
- 菜单分配：用于分配该角色在对应的层级上可使用的菜单及权限。
    
3.点击`创建`完成角色的创建。

<h2 id="4">基于所选角色创建</h2>

1.点击列表中的`图标`→ ![详情按钮](/docs/user-guide/system-configuration/platform/image/detail_button.png)，选中`基于该角色创建`，创建基于所选角色的该层级角色；

2.输入`角色编码`、`角色名称`、`角色标签`以及`菜单分配`；

<blockquote class="note">可以选择多个角色，基于这些选择的角色创建一个新的角色。</blockquote>

必填字段：

- **角色编码**：角色编码具有唯一性，是角色的标识。用户可自定义。角色创建成功后生成的角色编码为`role/层级/custom/用户自定义角色编码`，其中`role`和`custom`为常量，`role`表示角色这个大类，`custom`表示角色来源为用户自定义，即用户在界面创建的角色；`层级`和`用户自定义编码`为变量，`层级`为用户所选的角色层级，`用户自定义角色编码`为用户在角色编码输入框中所填写的值。

- 角色名称：角色的名称应该根据角色权限集合特征定义。

选填字段：

- 角色标签：用于定义角色的特定逻辑的功能，需与代码开发结合。

- 菜单分配：新角色的菜单分配为所选角色菜单分配的并集。可以后继删除或添加菜单。

3.点击`创建`完成角色的创建。

<h2 id="5">编辑角色</h2>

1.点击列表中的`图标`→ ![详情按钮](/docs/user-guide/system-configuration/platform/image/detail_button.png)，选中`修改`可进行角色修改；

2.修改角色字段；

<blockquote class="note">
     预定义角色仅可编辑角色标签，自定义角色可编辑角色名称、角色标签及菜单分配。
</blockquote>  

不可编辑字段：

- **角色编码**：因为角色编码具有唯一性，是角色的标识，所以角色一旦创建成功，角色编码不可更改。

可编辑字段：

- 角色名称：应该根据角色的权限特性进行命名，这样分配角色的时候可以直观的选择角色。
- 角色标签：用于定义角色的特定逻辑的功能，需与代码开发结合。
- 菜单分配：可以增加或删除角色的菜单及权限。

3.点击`保存`完成角色的修改。

<h2 id="6">启用/停用角色</h2>

点击列表中的`图标`→ ![详情按钮](/docs/user-guide/system-configuration/platform/image/detail_button.png)，选中`停用`；
 
- 停用角色：停用角色后，角色状态变为'停用'。赋予给该角色的权限将失效，即使这个角色已经被分配给了用户。在角色分配中，不再显示该角色。
- 启用角色：角色被停用后，可以再次启用。启用角色后，角色状态变为'启用'。赋予该角色的权限生效。并在角色分配中，显示该角色。

## 预定义角色说明

- 全局层：

角色|角色编码|菜单|权限
| --- | --- | --- | --- |
平台管理员|role/site/default/administrator|平台层所有菜单|全部操作权限|
平台开发者|role/site/default/developer|任务调度|全部操作权限|
|||平台服务|全部操作权限|
|||平台统计|`事务定义`、`事务实例`、`API统计`的全部操作权限|

- 组织层：

角色|角色编码|菜单|功能
| --- | --- | --- | --- |
组织管理员|role/organization/default/administrator|组织层所有菜单|全部操作权限|
组织成员|role/organization/default/organization-member|wiki管理|全部操作权限，详情见[wiki管理](/zh/docs/user-guide/wiki)


- 项目层：

角色|角色编码|菜单|功能
| --- | --- | --- | --- |
项目所有者|role/project/default/project-owner|项目层所有菜单|全部操作权限|
项目成员|role/project/default/project-member|敏捷管理|不能进行`项目设置`、`快速搜索`和`问题链接`和`通知设置`。其他均有权限。详情见[敏捷管理](/zh/docs/user-guide/agile)
|||应用管理|仅能使用`应用市场`的查询功能、`应用版本`。详情见[应用管理](/zh/docs/user-guide/application-management)
|||大规模敏捷|不能进行`设置`，其他均有权限。详情见[大规模敏捷](/zh/docs/user-guide/safe)
|||知识管理|全部操作权限。
|||API管理|未分配此权限。
|||开发流水线|不能`删除标签`，其他均有权限。详情见[开发流水线](/zh/docs/user-guide/development-pipeline)
|||部署流水线|不能进行`环境管理`，其他均有权限。详情见[部署流水线](/zh/docs/user-guide/deployment-pipeline)
|||项目设置|未分配此权限。详情见[项目设置](/zh/docs/user-guide/system-configuration/project)
|||测试管理|全部操作权限。详情见[测试管理](/zh/docs/user-guide/test-management)
|||wiki管理|不能`删除项目下的空间`，其他均有权限。详情见[wiki管理](/zh/docs/user-guide/wiki)
|||任务调度|未分配此权限。
|||报表|全部操作权限。



## 更多操作
- [角色标签](../role-label)
- [平台角色分配](../role-assignment)
- [Root用户设置](../rootuser)
